### üîÅ –ê–ª–≥–æ—Ä–∏—Ç–º –§–ª–æ–π–¥–∞ ‚Äì –í–æ—Ä—à–µ–ª–ª–∞

**–ê–ª–≥–æ—Ä–∏—Ç–º –§–ª–æ–π–¥–∞ ‚Äì –í–æ—Ä—à–µ–ª–ª–∞** –¥–æ–∑–≤–æ–ª—è—î –∑–Ω–∞–π—Ç–∏ **–Ω–∞–π–∫–æ—Ä–æ—Ç—à—ñ —à–ª—è—Ö–∏ –≤—ñ–¥ –≤—Å—ñ—Ö –≤–µ—Ä—à–∏–Ω –≥—Ä–∞—Ñ–∞ –¥–æ –≤—Å—ñ—Ö –≤–µ—Ä—à–∏–Ω –≥—Ä–∞—Ñ–∞**.

---

–ê–ª–≥–æ—Ä–∏—Ç–º –§–ª–æ–π–¥–∞ ‚Äì –í–æ—Ä—à–µ–ª–ª–∞ **–ø–æ—Ä—ñ–≤–Ω—é—î –≤—Å—ñ –º–æ–∂–ª–∏–≤—ñ —à–ª—è—Ö–∏** –≤ –≥—Ä–∞—Ñ—ñ –º—ñ–∂ –∫–æ–∂–Ω–æ—é –ø–∞—Ä–æ—é –≤–µ—Ä—à–∏–Ω.

- –í–≤–∞–∂–∞—î—Ç—å—Å—è, —â–æ **–≤—ñ–¥—Å—Ç–∞–Ω—å –≤—ñ–¥ –≤–µ—Ä—à–∏–Ω–∏ –¥–æ —Å–µ–±–µ ‚Äî –Ω—É–ª—å–æ–≤–∞**.
- **–í—ñ–¥—Å—Ç–∞–Ω—ñ –º—ñ–∂ —Å—É—Å—ñ–¥–Ω—ñ–º–∏ –≤–µ—Ä—à–∏–Ω–∞–º–∏** –∑–∞–¥–∞—é—Ç—å—Å—è –≤–∞–≥–∞–º–∏ —Ä–µ–±–µ—Ä.
- –í—ñ–¥—Å—Ç–∞–Ω—ñ –¥–æ –≤—Å—ñ—Ö —ñ–Ω—à–∏—Ö –≤–µ—Ä—à–∏–Ω –≥—Ä–∞—Ñ—É ‚Äî **–Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω—ñ**.

---

–ù–µ—Ö–∞–π –Ω–∞–π–∫–æ—Ä–æ—Ç—à–∏–π —à–ª—è—Ö –≤—ñ–¥ –≤–µ—Ä—à–∏–Ω–∏ $i$ –¥–æ –≤–µ—Ä—à–∏–Ω–∏ $j$, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –≤–µ—Ä—à–∏–Ω–∏  
$\{1, 2, \dots, k\}$, –¥–æ—Ä—ñ–≤–Ω—é—î $path(i, j, k)$.  
–¢–æ–¥—ñ, –¥–æ–¥–∞–≤—à–∏ –¥–æ —Ü—å–æ–≥–æ –ø–µ—Ä–µ–ª—ñ–∫—É –≤–µ—Ä—à–∏–Ω—É $k + 1$, –Ω–∞–π–∫–æ—Ä–æ—Ç—à–∏–º —à–ª—è—Ö–æ–º –±—É–¥–µ:

$$
path(i, j, k + 1) = \min \left(path(i, j, k),\ path(i, k + 1, k) + path(k + 1, j, k)\right)
$$

---
## Capacity
**–ê–ª–≥–æ—Ä–∏—Ç–º—ñ—á–Ω–∞ —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å** –±—É–¥–µ:

$$
O(n^3)
$$

—É –Ω–∞–π–≥—ñ—Ä—à–æ–º—É –≤–∏–ø–∞–¥–∫—É, –¥–µ $n$ ‚Äî –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≤–µ—Ä—à–∏–Ω —É –≥—Ä–∞—Ñ—ñ.

## Implementation
```c++
std::vector<std::vector<int>> floyd_warshall(){  
  
    vector<vector<int>> distance(g_size, std::vector<int>(g_size, INF));  
  
    for (int v = 0; v < g_size; v++){  
        distance[v][v] = 0;  
        for (auto [nei, nei_w]: graph[v]){  
            distance[v][nei] = nei_w;  
        }    }  
    for (int k = 0; k < g_size; ++k)  
        for (int i = 0; i < g_size; ++i)  
            for (int j = 0; j < g_size; ++j)  
                if (distance[i][k] < INF && distance[k][j] < INF) // –Ω–µ –æ–±–æ–≤—è–∑–∫–æ–≤–æ  
                    distance[i][j] = min(distance[i][j], distance[i][k] + distance[k][j]);  
  
  
  
    for (int v = 0; v < g_size; ++v) { // –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ñ —Ü–∏–∫–ª–∏  
        if (distance[v][v] < 0) {  
            throw runtime_error("Graph contains a negative-weight cycle");  
        }    }  
  
    return distance;  
  
}
```